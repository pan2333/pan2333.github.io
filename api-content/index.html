{"posts":[{"title":"你是不是真的需要一个软路由","content":" 我为什么要买软路由 购买的一些坑 机器底层 1.ESXI 2.UNRAID 3.Proxmox Virtual Environment（PVE Network storage types supported Local storage types supported 我为什么选了PVE DOCKER专属虚拟机 我的一些推荐 我为什么要买软路由 我打算虚拟机多开op+黑群晖+docker，而斐讯N1已经达不到我的要求，N1作为旁路由还是可以的，但带多个docker还是不太行，毕竟配置摆在那里。所以我买了个j4125+42.5的软路由，找aki py两个苹果原装内存1，279买了紫光480g作为储存，别问我为啥不买nvme，问就是穷。 购买的一些坑 首先，商品页面上说支持19v电源，后来进群才知道主板默认不支持，得去掉一个三极管才行，白白花费了我的时间，其次*1中苹果原装内存在商品详情页中是可以使用的，但是插入无法使用，美光的内存条不兼容。我只好在咸鱼上又买了根科赋的条，光内存条和电源就白白拖了我一个星期。所以买这种DIY产品需谨慎，如果不是对某些功能有强烈需求建议买大厂主板，假如你恰巧财力雄厚建议直接买服务器主板。 机器底层 由于我准备虚拟机跑所需要的环境，为的是避免all in boom，一个虚拟机出现问题了对其他虚拟机不会造成影响。所以我打算在EXSI.UNRAID和PVE中选择。我先简单介绍下这三种系统。 1.ESXI VMware ESXi：专门构建的裸机 Hypervisor https://www.vmware.com/cn/products/esxi-and-esx.html 了解可直接安装到您的物理服务器的、可靠的裸机 Hypervisor。通过直接访问并控制底层资源，VMware ESXi 可有效地对硬件进行分区，以便整合应用并降低成本。它是业界领先的高效体系架构，在可靠性、性能和支持方面树立了行业标杆。ESXi 可将多台服务器整合到较少物理设备中，从而减少对空间、电力和 IT 管理的要求，同时提升性能。 占用空间小 尽管 ESXi 占用空间仅为 150 MB，却可实现更多功能，同时还能最大限度地降低 Hypervisor 的安全风险。 可靠的性能 适应任何规模的应用。虚拟机配置最高可达 128 个虚拟 CPU、6 TB 的 RAM 和 120 台设备，以满足您的所有应用需求。咨询各项解决方案限制以确保您不会超过您环境的受支持配置。了解有关配置上限的更多信息。 增强的安全性 利用强大的加密功能保护敏感的虚拟机数据。基于角色的访问可简化管理，而广泛的日志记录和审核可以更好地落实责任，还可更加轻松地进行取证分析。 卓越的生态系统 获取对由硬件 OEM 供应商、技术服务合作伙伴、应用和客户机操作系统组成的广泛生态系统的支持。 方便用户使用的体验 利用基于 HTML5 标准的内置现代 UI 管理日常行政操作。对于需要实现运维自动化的客户，VMware 提供 vSphere 命令行界面和便于开发人员使用、基于 REST的 API 2.UNRAID https://unraid.net/zh 解放你的硬件 借助 Unraid OS，媒体爱好者、游戏玩家和 其它数据密集型用户可以任意搭配硬件，进而 实现对数据、媒体和应用程序的终极控制。 控制您的数据 打破单一操作系统的局限性。在 Unraid 中，您可以对系统资源进行分区，以存储和保护数据、运行应用程序和/或在独立环境下创建虚拟机。 3.Proxmox Virtual Environment（PVE https://pve.proxmox.com/wiki/Main_Page Proxmox 虚拟环境是基于 QEMU/KVM 和 LXC 的开源服务器虚拟化管理解决方案。您可以使用集成的易于使用的 Web 界面或通过 CLI 管理虚拟机器、容器、高度可用的集群、存储和网络。Proxmox VE 代码根据 GNU Affero 通用公共许可证（第 3 版）获得许可。该项目是由Proxmox服务器解决方案有限公司开发和维护的。 有关 Proxmox VE 关键功能的概述，请参阅Proxmox 网站。 (PVEj接下来的部分是我写的，请多担待) 虚拟化 PVE基于Debian而来，原生支持Linux服务器的虚拟化，由于使用Linux内核，可以方便使用KVM来构建。同时PVE也有自己独特的基于容器的虚拟化LXC，它占用空间小（比如Ubuntu server 下载ISO文件得有1G+,而使用LXC版本的只需要300M左右），它是一个操作系统级虚拟化环境，所以可以方便的通过一个系统带多个系统而且不互相干扰，可以使管理成本大大降低。 管理 PVE使用节点这一概念，一个主机就是一个节点，你可以设置主节点，形成中央集权管理，集群堆栈完全集成。PVE一般不用直接连接主机，可以方便的通过WEB UI管理使用，不需要单独的管理服务器。 网络与存储 PVE内建brige，可以方便的内部通信，也可以直接内部聚和/分离，这样，就可以利用 Linux 网络堆栈的全部功率，为 Proxmox VE 主机构建复杂、灵活、虚拟的网络。 关于存储，VM 图像可以存储在一个或几个本地存储设备上，也可以存储在共享存储（如 NFS 和 SAN）上。没有限制。您可以根据需要配置尽可能多的存储空间，并可以使用可用于 Debian GNU/Linux 的所有存储技术。将虚拟机存储在共享存储空间的好处是能够在没有任何停机时间的情况下实时迁移运行机器。而且PVE7.0也支持了CEPH存储，可以方便管理大型存储。 Network storage types supported LVM Group (network backing with iSCSI targets) iSCSI target NFS Share CIFS Ceph RBD Direct to iSCSI LUN GlusterFS CephFS Local storage types supported LVM Group Directory (storage on an existing filesystem) ZFS 我为什么选了PVE ESXI7.0的底层完全大改，安装ESXI我估计只能安装6.4，7.0没有封装8125B的驱动，遂放弃。UNRAID是我最想安装的系统，但是UNRAID对U盘要求比较高，我试了几个U盘都没有安装成功(虽然UNRAID最令我心水),没办法只能放弃，于是我下载了PVE7.0用ventoy https://www.ventoy.net/cn/index.html 进入并成功安装7.0.8。使用教程网上一堆，我就不赘述了。由于国内环境，遂进行换国内源，更新最新驱动，更新系统到7.0.9的操作并加上一个温度显示插件。 底层构建完成了，我们开始了使用虚拟机的浪荡之路。 DOCKER专属虚拟机 本来我是准备使用alpine的，但是在查找apk文件时始终无法找到docker的包，遂换成 Ubuntu server (注意，在安装时记得选择国内源，我位于上海，选择了上海交大的源 https://mirrors.sjtug.sjtu.edu.cn/ )。Ubuntu安装好了，接下来就是安装docker了(注意进行国内镜像加速，官方不一定能访问到) https://www.daocloud.io/mirror 个人比较推荐，有一键脚本和镜像，适合我这种懒人。 可以通过 Hello World 这个镜像查看自己是否安装成功了docker 接下来安装很多人喜欢的Portainer，汉化版可以参考 https://wp.gxnas.com/10761.html 的文章，虽然我也安装了Portainer官方版，但是我还是更加习惯使用命令管理和安装docker的镜像和容器，习惯了命令行操作会觉得更加简洁，迅速。 docker命令 $ docker Usage: docker [OPTIONS] COMMAND A self-sufficient runtime for containers Options: --config string Location of client config files (default &quot;/home/kalasearch/.docker&quot;) -c, --context string Name of the context to use to connect to the daemon (overrides DOCKER_HOST env var and default context set with &quot;docker context use&quot;) -D, --debug Enable debug mode -H, --host list Daemon socket(s) to connect to -l, --log-level string Set the logging level (&quot;debug&quot;|&quot;info&quot;|&quot;warn&quot;|&quot;error&quot;|&quot;fatal&quot;) (default &quot;info&quot;) --tls Use TLS; implied by --tlsverify --tlscacert string Trust certs signed only by this CA (default &quot;/home/kalasearch/.docker/ca.pem&quot;) --tlscert string Path to TLS certificate file (default &quot;/home/kalasearch/.docker/cert.pem&quot;) --tlskey string Path to TLS key file (default &quot;/home/kalasearch/.docker/key.pem&quot;) --tlsverify Use TLS and verify the remote -v, --version Print version information and quit Management Commands: builder Manage builds config Manage Docker configs container Manage containers context Manage contexts engine Manage the docker engine image Manage images network Manage networks node Manage Swarm nodes plugin Manage plugins secret Manage Docker secrets service Manage services stack Manage Docker stacks swarm Manage Swarm system Manage Docker trust Manage trust on Docker images volume Manage volumes Commands: attach Attach local standard input, output, and error streams to a running container build Build an image from a Dockerfile commit Create a new image from a container's changes cp Copy files/folders between a container and the local filesystem create Create a new container diff Inspect changes to files or directories on a container's filesystem events Get real time events from the server exec Run a command in a running container export Export a container's filesystem as a tar archive history Show the history of an image images List images import Import the contents from a tarball to create a filesystem image info Display system-wide information inspect Return low-level information on Docker objects kill Kill one or more running containers load Load an image from a tar archive or STDIN login Log in to a Docker registry logout Log out from a Docker registry logs Fetch the logs of a container pause Pause all processes within one or more containers port List port mappings or a specific mapping for the container ps List containers pull Pull an image or a repository from a registry push Push an image or a repository to a registry rename Rename a container restart Restart one or more containers rm Remove one or more containers rmi Remove one or more images run Run a command in a new container save Save one or more images to a tar archive (streamed to STDOUT by default) search Search the Docker Hub for images start Start one or more stopped containers stats Display a live stream of container(s) resource usage statistics stop Stop one or more running containers tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE top Display the running processes of a container unpause Unpause all processes within one or more containers update Update configuration of one or more containers version Show the Docker version information wait Block until one or more containers stop, then print their exit codes Run 'docker COMMAND --help' for more information on a command. docker help docker ${docker-subcommand} --help docker系统信息 docker info 一般常用的docker命令也就是 ps ps-a pull push start stop rm 这些命令。 我的一些推荐 wallabag https://doc.wallabag.org/en/admin/installation/installation.html#installation 介绍文章 https://www.appinn.com/wallabag/ halo https://docs.halo.run/ 个人觉得这个作为博客系统比wp好些，wp功能比较多显得臃肿而且强烈推荐付费不太好。 Home Assistant 这个智能家居控制系统我也不用多介绍了吧 未完待续（滑稽 ","link":"https://pan2333.github.io/_hyN8alZQ/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://pan2333.github.io/hello-gridea/"}]}